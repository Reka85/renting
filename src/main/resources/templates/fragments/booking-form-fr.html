<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<div th:fragment="bookingForm">
		<h3 th:text=#{vehicleDetails.booking.form.title}>Make a booking</h3>
		<form action="/bookings" th:action="@{/bookings}" method="post" th:object="${bookingForm}">
			<input type="hidden" th:name="vehicle" th:value="${vehicle.id}" />
             	<div class="form-field">
				<label th:text=#{vehicleDetails.booking.form.checkIn.label}>Check-in date</label><br/>
				<div class="fieldErrorMessage" th:if="${#fields.hasErrors('checkIn')}" th:errors="*{checkIn}">Form error</div>
				<input type="date" id="checkIn"
             			th:value="${#calendars.format(checkIn,'yyyy-MM-dd')}" th:name="${checkIn}" th:field="*{checkIn}" />
			</div>
			<div class="form-field">
				<label th:text=#{vehicleDetails.booking.form.checkOut.label}>Check-out date</label><br/>
				<div class="fieldErrorMessage" th:if="${#fields.hasErrors('checkOut')}" th:errors="*{checkOut}">Form error</div>
				<input type="date" id="checkOut"
             			th:value="${#calendars.format(checkOut,'yyyy-MM-dd')}" th:name="${checkIn}" th:field="*{checkOut}" />
			</div>
			<div class="form-field">
				<label th:text=#{vehicleDetails.booking.form.numberOfGuests.label}>Number of guests</label><br/>
				<div class="fieldErrorMessage" th:if="${#fields.hasErrors('guestCount')}" th:errors="*{guestCount}">Form error</div>
				<input type="number" id="guestCount" th:name="${guestCount}" th:field="*{guestCount}" />
			</div>
			<button type="submit" th:text=#{vehicleDetails.booking.form.submitButton}>Make reservation</button>
		</form>
		<br/>
		<div th:id=total id=total></div>
	</div>
	<script type="text/javascript" th:src="@{/js/totalPrice.js}"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment-with-locales.min.js"></script>
</body>
</html>